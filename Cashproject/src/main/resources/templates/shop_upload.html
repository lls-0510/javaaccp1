<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="css/shop_upload.css">
    <script src="js/wangEditor.js"></script>
     <style type="text/css">
        * {
            margin: 0;
            padding: 0;
        }
        ul {
            list-style: none;
        }
        .container {
            width: 397px;
            margin: 0 auto;
            text-align: center;
        }
        .magnifierContainer {
            display: flex;
            margin-top: 30px;
        }
        .magnifierContainer img{
        	width:100%;
        	height:100%;
        }
        .imgMedium {
            position: relative;
        }
        .imgLeft .magnifier {
            position: absolute;
            display: none;
            width: 200px;
            height: 200px;
        }
        .mediumContainer {
            width: 350px;
            height: 350px;
            border: 1px solid #eee;
            overflow: hidden;
        }
        #zhezhao {
            width: 350px;
            height: 350px;
            background: transparent;
            position: absolute;
            top: 0;
            border: 1px solid transparent;
        }
        #zhezhao:hover {
            cursor: move;
        }
        .img_x {
            width: 350px;
            height: 70px;
            border: 1px solid #eee;
            margin-top: 20px;
            display: flex;
        }
        .img_x li{
           /*  width: 54px;
            height: 54px; */
            border: 2px solid transparent;
            margin: 8px 4px;
            padding: 2px;
        }
        .img_u {
            width: 500px;
            height: 450px;
            border: 1px solid #eee;
            float: left;
            margin-left: 15px;
            overflow: hidden;
            display:none;
           	position:relative;
            z-index:999;
        }
    </style>
</head>
<body>
<div class="rightarea clearfix">
    <div class="mainarea clearfix">
        <div class="mainhead clearfix">
            <span class="title">商品上传</span>
        </div>
        <div class="mainbody clearfix">
                <!--上传开始-->
                <div class="uploadproduct clearfix">
                    <div class="rightdiv">
                        <div class="ptype">
                            <div class="listdiv">
                                <span>
                                    <i>*</i>
                                    商品货号
                                </span>
                                <input type="text" class="inputtext" >
                                <span>
                                    商品品牌
                                </span>
                                <input type="text" class="inputtext" >
                            </div>
                            <!---->
                            <div class="listdiv">
                                <span>
                                    <i>*</i>
                                    商品名称
                                </span>
                                <input type="text" class="inputtext" style="width: 398px;">
                            </div>
                            <!---->
                            <div class="listdiv">
                                <span>
                                    <i>*</i>
                                    吊牌价格
                                </span>
                                <input type="text" class="inputtext" >
                                <span>
                                    <i>*</i>
                                    成本价格
                                </span>
                                <input type="text" class="inputtext" >
                            </div>
                            <!---->
                            <div class="listdiv">
                                <span>
                                    <i>*</i>
                                    吊牌类别
                                </span>
                                <select name="" id="" class="form-control" style="float:left;width: 168px;">
                                    <option value="请选择类别" >请选择类别</option>
                                </select>
                            </div>
                            <!---->
                            <div class="listdiv">
                                 <span>
                                    <i>*</i>
                                    商品颜色
                                </span>
                                <!--固定颜色需选择-->
                                <div class="colorchoice">
                                    <table class="colorstable">
                                        <colgroup>
                                            <col width="25%">
                                            <col width="25%">
                                            <col width="25%">
                                            <col width="25%">
                                        </colgroup>
                                        <tbody>
                                        <tr>
                                            <th>黑色系</th>
                                            <th>白色系</th>
                                            <th>红色系</th>
                                            <th>蓝色系</th>
                                        </tr>
                                        <tr>
                                            <td>
                                                <ul class="listcolor">
                                                    <li>
                                                        <input type="checkbox" class="checkbox" value="黑色">
                                                        <a href="javascript:;">
                                                            <label for="" class="color">
                                                                <span class="colorImg"></span>
                                                                黑色
                                                            </label>
                                                        </a>
                                                    </li>
                                                    <li>
                                                        <input type="checkbox" class="checkbox" value="黑色">
                                                        <a href="javascript:;">
                                                            <label for="" class="color">
                                                                <span class="colorImg"></span>
                                                                黑色
                                                            </label>
                                                        </a>
                                                    </li>
                                                    <li>
                                                        <input type="checkbox" class="checkbox" value="黑色">
                                                        <a href="javascript:;">
                                                            <label for="" class="color">
                                                                <span class="colorImg"></span>
                                                                黑色
                                                            </label>
                                                        </a>
                                                    </li>
                                                </ul>
                                            </td>
                                            <td>
                                                <ul class="listcolor">
                                                    <li>
                                                        <input type="checkbox" class="checkbox" value="黑色">
                                                        <a href="javascript:;">
                                                            <label for="" class="color">
                                                                <span class="colorImg"></span>
                                                                黑色
                                                            </label>
                                                        </a>
                                                    </li>
                                                    <li>
                                                        <input type="checkbox" class="checkbox" value="黑色">
                                                        <a href="javascript:;">
                                                            <label for="" class="color">
                                                                <span class="colorImg"></span>
                                                                黑色
                                                            </label>
                                                        </a>
                                                    </li>
                                                    <li>
                                                        <input type="checkbox" class="checkbox" value="黑色">
                                                        <a href="javascript:;">
                                                            <label for="" class="color">
                                                                <span class="colorImg"></span>
                                                                黑色
                                                            </label>
                                                        </a>
                                                    </li>
                                                </ul>
                                            </td>
                                            <td>
                                                <ul class="listcolor">
                                                    <li>
                                                        <input type="checkbox" class="checkbox" value="黑色">
                                                        <a href="javascript:;">
                                                            <label for="" class="color">
                                                                <span class="colorImg"></span>
                                                                黑色
                                                            </label>
                                                        </a>
                                                    </li>
                                                    <li>
                                                        <input type="checkbox" class="checkbox" value="黑色">
                                                        <a href="javascript:;">
                                                            <label for="" class="color">
                                                                <span class="colorImg"></span>
                                                                黑色
                                                            </label>
                                                        </a>
                                                    </li>
                                                    <li>
                                                        <input type="checkbox" class="checkbox" value="黑色">
                                                        <a href="javascript:;">
                                                            <label for="" class="color">
                                                                <span class="colorImg"></span>
                                                                黑色
                                                            </label>
                                                        </a>
                                                    </li>
                                                </ul>
                                            </td>
                                            <td>
                                                <ul class="listcolor">
                                                    <li>
                                                        <input type="checkbox" class="checkbox" value="黑色">
                                                        <a href="javascript:;">
                                                            <label for="" class="color">
                                                                <span class="colorImg"></span>
                                                                黑色
                                                            </label>
                                                        </a>
                                                    </li>
                                                    <li>
                                                        <input type="checkbox" class="checkbox" value="黑色">
                                                        <a href="javascript:;">
                                                            <label for="" class="color">
                                                                <span class="colorImg"></span>
                                                                黑色
                                                            </label>
                                                        </a>
                                                    </li>
                                                    <li>
                                                        <input type="checkbox" class="checkbox" value="黑色">
                                                        <a href="javascript:;">
                                                            <label for="" class="color">
                                                                <span class="colorImg"></span>
                                                                黑色
                                                            </label>
                                                        </a>
                                                    </li>
                                                </ul>
                                            </td>
                                        </tr>
                                        </tbody>
                                    </table>
                                    <table class="colorstable">
                                        <colgroup>
                                            <col width="25%">
                                            <col width="25%">
                                            <col width="25%">
                                            <col width="25%">
                                        </colgroup>
                                        <tbody>
                                        <tr>
                                            <th>黑色系</th>
                                            <th>白色系</th>
                                            <th>红色系</th>
                                            <th>蓝色系</th>
                                        </tr>
                                        <tr>
                                            <td>
                                                <ul class="listcolor">
                                                    <li>
                                                        <input type="checkbox" class="checkbox" value="黑色">
                                                        <a href="javascript:;">
                                                            <label for="" class="color">
                                                                <span class="colorImg"></span>
                                                                黑色
                                                            </label>
                                                        </a>
                                                    </li>
                                                    <li>
                                                        <input type="checkbox" class="checkbox" value="黑色">
                                                        <a href="javascript:;">
                                                            <label for="" class="color">
                                                                <span class="colorImg"></span>
                                                                黑色
                                                            </label>
                                                        </a>
                                                    </li>
                                                    <li>
                                                        <input type="checkbox" class="checkbox" value="黑色">
                                                        <a href="javascript:;">
                                                            <label for="" class="color">
                                                                <span class="colorImg"></span>
                                                                黑色
                                                            </label>
                                                        </a>
                                                    </li>
                                                </ul>
                                            </td>
                                            <td>
                                                <ul class="listcolor">
                                                    <li>
                                                        <input type="checkbox" class="checkbox" value="黑色">
                                                        <a href="javascript:;">
                                                            <label for="" class="color">
                                                                <span class="colorImg"></span>
                                                                黑色
                                                            </label>
                                                        </a>
                                                    </li>
                                                    <li>
                                                        <input type="checkbox" class="checkbox" value="黑色">
                                                        <a href="javascript:;">
                                                            <label for="" class="color">
                                                                <span class="colorImg"></span>
                                                                黑色
                                                            </label>
                                                        </a>
                                                    </li>
                                                    <li>
                                                        <input type="checkbox" class="checkbox" value="黑色">
                                                        <a href="javascript:;">
                                                            <label for="" class="color">
                                                                <span class="colorImg"></span>
                                                                黑色
                                                            </label>
                                                        </a>
                                                    </li>
                                                </ul>
                                            </td>
                                            <td>
                                                <ul class="listcolor">
                                                    <li>
                                                        <input type="checkbox" class="checkbox" value="黑色">
                                                        <a href="javascript:;">
                                                            <label for="" class="color">
                                                                <span class="colorImg"></span>
                                                                黑色
                                                            </label>
                                                        </a>
                                                    </li>
                                                    <li>
                                                        <input type="checkbox" class="checkbox" value="黑色">
                                                        <a href="javascript:;">
                                                            <label for="" class="color">
                                                                <span class="colorImg"></span>
                                                                黑色
                                                            </label>
                                                        </a>
                                                    </li>
                                                    <li>
                                                        <input type="checkbox" class="checkbox" value="黑色">
                                                        <a href="javascript:;">
                                                            <label for="" class="color">
                                                                <span class="colorImg"></span>
                                                                黑色
                                                            </label>
                                                        </a>
                                                    </li>
                                                </ul>
                                            </td>
                                            <td>
                                                <ul class="listcolor">
                                                    <li>
                                                        <input type="checkbox" class="checkbox" value="黑色">
                                                        <a href="javascript:;">
                                                            <label for="" class="color">
                                                                <span class="colorImg"></span>
                                                                黑色
                                                            </label>
                                                        </a>
                                                    </li>
                                                    <li>
                                                        <input type="checkbox" class="checkbox" value="黑色">
                                                        <a href="javascript:;">
                                                            <label for="" class="color">
                                                                <span class="colorImg"></span>
                                                                黑色
                                                            </label>
                                                        </a>
                                                    </li>
                                                    <li>
                                                        <input type="checkbox" class="checkbox" value="黑色">
                                                        <a href="javascript:;">
                                                            <label for="" class="color">
                                                                <span class="colorImg"></span>
                                                                黑色
                                                            </label>
                                                        </a>
                                                    </li>
                                                </ul>
                                            </td>
                                        </tr>
                                        </tbody>
                                    </table>
                                    <!--添加颜色的按钮-->
                                    <a href="javascript:;" class="addColorBtn">+添加颜色</a>
                                </div>
                            </div>
                            <!---->
                            <div class="listdiv">
                                  <span>
                                    <i>*</i>
                                   商品尺码
                                </span>
                                <div class="fdcolor clearfix">
                                    <ul>
                                        <li>
                                            <a href="javascript:;">均码</a>
                                        </li>
                                        <li>
                                            <a href="javascript:;">26</a>
                                        </li>
                                        <li>
                                            <a href="javascript:;">xxl</a>
                                        </li>
                                        <li>
                                            <a href="javascript:;">s</a>
                                        </li>
                                        <li>
                                            <a href="javascript:;">30</a>
                                        </li>
                                        <li>
                                            <a href="javascript:;">sm</a>
                                        </li>
                                    </ul>
                                </div>
                                <!--添加尺寸的按钮-->
                                <a href="javascript:;" class="editSizeBtn">编辑尺寸</a>
                            </div>
                            <!---->
                            <div class="listdiv" >
                                 <span>
                                    <i>*</i>
                                    库存总数
                                </span>
                                <input type="text" class="inputtext"  style="width: 124px;">
                                <label style="color: rgb(240, 91, 35); float: left; padding-left: 8px; line-height: 36px;">请勿随意修改库存，以免影响库存准确性</label>
                                <table class="colorstable">
                                    <colgroup>
                                        <col width="40%">
                                        <col width="20%">
                                        <col width="40%">
                                    </colgroup>
                                    <thead>
                                        <tr>
                                            <th>规格</th>
                                            <th>数量</th>
                                            <th>条形码</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <!---->
                        </div>
                    </div>
                    <!--infoend-->
                    <!--上传图片  放大-->
                    <div class="productshow clearfix">
		              <div class="container">
						    <div class="magnifierContainer">
						        <div class="imgLeft">
						            <!-- 中号图片 -->
						            <div class="imgMedium" id="imgMedium">
						                <!-- 放大镜 -->
						                <div class="magnifier" id="magnifier">
						                    <img src="http://product.dangdang.com/images/zoom_pup.png">
						                </div>
						                <!-- 图片 -->
						                <div class="mediumContainer" id="mediumContainer">
						                    <img src="">	
						                </div>
						                <div id="zhezhao"></div>
						            </div>
						
						            <!-- 缩略图 -->
						            <ul class="img_x thumb" id="img_x">

						                <li id="addimg">
                                            <input type="file" class="uploadimg">
                                            <a  class="imgd" href="javascript:;">
                                                <img src="images/storeindex/add_ico.png" alt="">
                                            </a>
                                        </li>
						            </ul>
						        </div>
						        <div class="imgRight">
						            <!-- 大图 -->
						            <div class="img_u" id="img_u">
						                <img src="">
						            </div>
						        </div>
						    </div>
						</div>
                    </div>
                    <!--富文本编辑器 保存商品信息-->
                    <div class="editPanel clearfix">
                        <p class="title">商品信息</p>
                        <div id="editwang"></div>
                        <!--按钮-->
                        <div class="btn-close-insert">
                            <a href="javascript:;" class="btn btn-default">取消发布</a>
                            <a href="javascript:;" class="btn btn-success" style="color: #ffffff !important;">发布商品</a>
                        </div>
                    </div>
                </div>
        </div>
    </div>
</div>
<script type="text/javascript">
    /*创建富文本编辑器*/
    var E = window.wangEditor;
    var editor = new E('#editwang');
    editor.create();
    
    /* 上传图片并预览 */
    $(".uploadimg").change(function(e) {
            var imgBox = e.target;
            createliimg(imgBox);
   });

   function createliimg(tag) {
            var file = tag.files[0];
            var imgSrc;
            if (!/image\/\w+/.test(file.type)) {
                alert("请选择图片格式！");
                return false;
            }
            var reader = new FileReader();
            reader.readAsDataURL(file);
            reader.onload = function() {
                imgSrc = this.result;
                var imgs = document.createElement("img");
                let img = $(imgs).attr("src", imgSrc);
                //
               	$("#addimg").before($("<li onmouseenter=\"mouse(this)\"></li>").append(img));   
            };
    }
    
    $('#img_x li').eq(0).css('border', '2px solid coral');
    $('#zhezhao').mousemove(function(e){
        $('#img_u').show();
        $('#magnifier').show();
        var left = e.offsetX - parseInt($('#magnifier').width()) / 2;
        var top = e.offsetY - parseInt($('#magnifier').height()) / 2;
        left = left < 0 ? 0 : left;
        left = left > (parseInt($('#zhezhao').outerWidth()) - parseInt($('#magnifier').outerWidth())) ? (parseInt($('#zhezhao').outerWidth()) - parseInt($('#magnifier').outerWidth())) : left;
        top = top < 0 ? 0 : top;
        top = top > (parseInt($('#zhezhao').outerHeight()) - parseInt($('#magnifier').outerHeight())) ? (parseInt($('#zhezhao').outerHeight()) - parseInt($('#magnifier').outerHeight())) : top;

        $('#magnifier').css('left', left + 'px');
        $('#magnifier').css('top', top + 'px');

        var leftRate = left / parseInt($('#zhezhao').outerWidth());
        var bigLeft = leftRate * parseInt($('#img_u img').outerWidth());
        $('#img_u img').css('margin-left', -bigLeft + 'px');

        var topRate = top / parseInt($('#zhezhao').outerHeight());
        var bigTop =  topRate * parseInt($('#img_u img').outerHeight());
        $('#img_u img').css('margin-top', -bigTop + 'px');
    })
    $('#zhezhao').mouseleave(function(){
        $('#img_u').hide();
        $('#magnifier').hide();
    })

  
    function mouse(th){
    	$(th).css('border', '2px solid coral').siblings().css('border', '2px solid transparent');
        $('#mediumContainer img').eq(0).attr('src',$(th).find("img").attr("src"));
        $('#img_u img').eq(0).attr('src', $(th).find("img").attr("src"));
    }
    
    
    /*  添加颜色*/
    $(".addColorBtn").click(function(){
    	
    });
</script>
</body>
</html>