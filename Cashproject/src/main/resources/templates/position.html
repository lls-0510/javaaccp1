<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="css/position.css">
</head>
<body>
    <!--职位权限-->
    <div class="rightarea clearfix">

        <!---->
        <div class="mainarea clearfix">
            <div class="mainhead">
                <span class="title">职位权限</span>
                <div class="searchArea">
                    <div class="btn-div">
                            <span id="sb" class="btn btn-success" onclick="addposition()" data-target="#tanchuan"  data-toggle="modal">
                            添加职位
                        </span>
                    </div>
                </div>
            </div>
            <div class="mainbody">
                <table class="settable">
                    <thead>
                        <tr>
                            <th width="20%">序号</th>
                            <th width="*">名称</th>
                            <th width="40%">操作</th>
                        </tr>
                    </thead>
                    <tbody id="tb">
                       <!--  <tr>
                            <td>1</td>
                            <td>职位</td>
                            <td>
                                <span onclick="editposition()" data-target="#tanchuan"  data-toggle="modal">编辑</span>
                            </td> -->
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

<script type="text/javascript">
//获取现在session的内容判断是否有当前页面的功能，如果没有则禁用按钮

	$(function(){
		$.ajax({
			url:"/querypost",
			type:"post",
			dataType:"json",
			success:function(res){
				$("#tb").html("");
				$.each(res,function(i, obj) {
						var $tr = "<tr><td>"
								+ (i + 1)+ "</td><td>"+ obj.type
								+ "</td><td data-target=\"#tanchuan\"  data-toggle=\"modal\" onclick='editposition("
								+ obj.id+ ")'>编辑</td></tr>";
						$("#tb").append($tr);
				})
			}
		});
		
	});
    function addposition() {
        /*$(".modal-content").attr("id",id);*/
        $(".modal-content").load("model/addposition.html");
    }
    function editposition(id) {  
    	 $(".modal-content").attr("id",id); 
        /*$(".modal-content").attr("id",id);*/
        $(".modal-content").load("model/editposition.html");
    }
</script>
</body>
</html>